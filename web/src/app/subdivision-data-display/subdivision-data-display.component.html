<div class="main-container">
    <div class="filter">
        <mat-form-field appearance="outline">
            <mat-label>Filter by Status</mat-label>
            <mat-select (selectionChange)="handleFilter($event.value)">
                <mat-option *ngFor="let status of subdivisionStatuses" [value]="status">
                    {{status}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div class="spinner-container" *ngIf="isLoading">
        <mat-spinner></mat-spinner>
    </div>
    <div class="table-container">
        <table mat-table [dataSource]="dataSource" matSort>

            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef> ID </th>
                <td mat-cell *matCellDef="let element"> {{element.id}} </td>
            </ng-container>


            <ng-container matColumnDef="code">
                <th mat-header-cell *matHeaderCellDef> Code </th>
                <td mat-cell *matCellDef="let element"> {{element.code}} </td>
            </ng-container>

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
                <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>


            <ng-container matColumnDef="longitude">
                <th mat-header-cell *matHeaderCellDef> Longitude </th>
                <td mat-cell *matCellDef="let element"> {{element.longitude}} </td>
            </ng-container>


            <ng-container matColumnDef="latitude">
                <th mat-header-cell *matHeaderCellDef> Latitude </th>
                <td mat-cell *matCellDef="let element"> {{element.latitude}} </td>
            </ng-container>


            <ng-container matColumnDef="fieldSurveyTerritoryId">
                <th mat-header-cell *matHeaderCellDef> Field Survey Territory ID </th>
                <td mat-cell *matCellDef="let element"> {{element.fieldSurveyTerritoryId}} </td>
            </ng-container>


            <ng-container matColumnDef="marketId">
                <th mat-header-cell *matHeaderCellDef> Market ID </th>
                <td mat-cell *matCellDef="let element"> {{element.marketId}} </td>
            </ng-container>

            <ng-container matColumnDef="subdivisionStatusId">
                <th mat-header-cell *matHeaderCellDef> Subdivision Status ID </th>
                <td mat-cell *matCellDef="let element"> {{element.subdivisionStatusId}} </td>
            </ng-container>


            <ng-container matColumnDef="surveyMethodId">
                <th mat-header-cell *matHeaderCellDef> Survey Method ID </th>
                <td mat-cell *matCellDef="let element"> {{element.surveyMethodId}} </td>
            </ng-container>


            <ng-container matColumnDef="activeSections">
                <th mat-header-cell *matHeaderCellDef> Active Sections </th>
                <td mat-cell *matCellDef="let element"> {{element.activeSections}} </td>
            </ng-container>


            <ng-container matColumnDef="futureSections">
                <th mat-header-cell *matHeaderCellDef> Future Sections </th>
                <td mat-cell *matCellDef="let element"> {{element.futureSections}} </td>
            </ng-container>


            <ng-container matColumnDef="builtOutSections">
                <th mat-header-cell *matHeaderCellDef> Built Out Sections </th>
                <td mat-cell *matCellDef="let element"> {{element.builtOutSections}} </td>
            </ng-container>


            <ng-container matColumnDef="totalLots">
                <th mat-header-cell *matHeaderCellDef> Total Lots </th>
                <td mat-cell *matCellDef="let element"> {{element.totalLots}} </td>
            </ng-container>


            <ng-container matColumnDef="fieldSurveyTerritoryName">
                <th mat-header-cell *matHeaderCellDef> Field Survey Territory </th>
                <td mat-cell *matCellDef="let element"> {{element.fieldSurveyTerritoryName}} </td>
            </ng-container>


            <ng-container matColumnDef="marketName">
                <th mat-header-cell *matHeaderCellDef> Market </th>
                <td mat-cell *matCellDef="let element"> {{element.marketName}} </td>
            </ng-container>


            <ng-container matColumnDef="marketAbbreviation">
                <th mat-header-cell *matHeaderCellDef> Market Abbreviation </th>
                <td mat-cell *matCellDef="let element"> {{element.marketAbbreviation}} </td>
            </ng-container>


            <ng-container matColumnDef="subdivisionStatusCode">
                <th mat-header-cell *matHeaderCellDef> Subdivision Status </th>
                <td mat-cell *matCellDef="let element"> {{element.subdivisionStatusCode}} </td>
            </ng-container>


            <ng-container matColumnDef="surveyMethodCode">
                <th mat-header-cell *matHeaderCellDef> Survey Method </th>
                <td mat-cell *matCellDef="let element"> {{element.surveyMethodCode}} </td>
            </ng-container>


            <ng-container matColumnDef="county">
                <th mat-header-cell *matHeaderCellDef> County </th>
                <td mat-cell *matCellDef="let element"> {{element.county}} </td>
            </ng-container>


            <ng-container matColumnDef="community">
                <th mat-header-cell *matHeaderCellDef> Community </th>
                <td mat-cell *matCellDef="let element"> {{element.community}} </td>
            </ng-container>


            <ng-container matColumnDef="zoom17Date">
                <th mat-header-cell *matHeaderCellDef> Zoom 17 Date </th>
                <td mat-cell *matCellDef="let element"> {{element.zoom17Date | date:'short'}} </td>
            </ng-container>


            <ng-container matColumnDef="zoom18Date">
                <th mat-header-cell *matHeaderCellDef> Zoom 18 Date </th>
                <td mat-cell *matCellDef="let element"> {{element.zoom18Date | date:'short'}} </td>
            </ng-container>


            <ng-container matColumnDef="subdivisionGeometryId">
                <th mat-header-cell *matHeaderCellDef> Subdivision Geometry ID </th>
                <td mat-cell *matCellDef="let element"> {{element.subdivisionGeometryId}} </td>
            </ng-container>


            <ng-container matColumnDef="subdivisionGeometryBoundingBoxId">
                <th mat-header-cell *matHeaderCellDef> Subdivision Geometry BoundingBox ID </th>
                <td mat-cell *matCellDef="let element"> {{element.subdivisionGeometryBoundingBoxId}} </td>
            </ng-container>


            <ng-container matColumnDef="subdivisionGeometryBoundaryId">
                <th mat-header-cell *matHeaderCellDef> Subdivision Geometry Boundary ID </th>
                <td mat-cell *matCellDef="let element"> {{element.subdivisionGeometryBoundaryId}} </td>
            </ng-container>


            <ng-container matColumnDef="subdivisionGeometryIntelligenceBoundaryId">
                <th mat-header-cell *matHeaderCellDef> Subdivision Geometry Intelligence Boundary ID </th>
                <td mat-cell *matCellDef="let element"> {{element.subdivisionGeometryIntelligenceBoundaryId}} </td>
            </ng-container>


            <ng-container matColumnDef="subdivisionGeometryIntelligenceBoundaryStatusId">
                <th mat-header-cell *matHeaderCellDef> Subdivision Geometry Intelligence Boundary Status ID </th>
                <td mat-cell *matCellDef="let element"> {{element.subdivisionGeometryIntelligenceBoundaryStatusId}}
                </td>
            </ng-container>


            <ng-container matColumnDef="subdivisionGeometryIntelligenceBoundaryStatusCode">
                <th mat-header-cell *matHeaderCellDef> Subdivision Geometry Intelligence Boundary Status </th>
                <td mat-cell *matCellDef="let element"> {{element.subdivisionGeometryIntelligenceBoundaryStatusCode}}
                </td>
            </ng-container>


            <ng-container matColumnDef="subdivisionGeometryIntelligenceBoundaryStatusChangeDate">
                <th mat-header-cell *matHeaderCellDef> Subdivision Geometry Intelligence Boundary Status Change Date
                </th>
                <td mat-cell *matCellDef="let element">
                    {{element.subdivisionGeometryIntelligenceBoundaryStatusChangeDate | date:'short'}} </td>
            </ng-container>


            <ng-container matColumnDef="nearMapImageDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> NearMap Image Date </th>
                <td mat-cell *matCellDef="let element"> {{element.nearMapImageDate | date:'short'}} </td>
            </ng-container>



            <ng-container matColumnDef="imageBoxId">
                <th mat-header-cell *matHeaderCellDef> Image Box ID </th>
                <td mat-cell *matCellDef="let element"> {{element.imageBoxId}} </td>
            </ng-container>


            <ng-container matColumnDef="mostRecentIPointBatchDate">
                <th mat-header-cell *matHeaderCellDef> Most Recent IPoint Batch Date </th>
                <td mat-cell *matCellDef="let element"> {{element.mostRecentIPointBatchDate | date:'short'}} </td>
            </ng-container>


            <ng-container matColumnDef="iPoints">
                <th mat-header-cell *matHeaderCellDef> iPoints </th>
                <td mat-cell *matCellDef="let element"> {{element.iPoints}} </td>
            </ng-container>


            <ng-container matColumnDef="validatediPoints">
                <th mat-header-cell *matHeaderCellDef> Validated iPoints </th>
                <td mat-cell *matCellDef="let element"> {{element.validatediPoints}} </td>
            </ng-container>


            <ng-container matColumnDef="subdivisionSpecificStatus">
                <th mat-header-cell *matHeaderCellDef> Subdivision Specific Status </th>
                <td mat-cell *matCellDef="let element"> {{element.subdivisionSpecificStatus}} </td>
            </ng-container>


            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
    <div class="pagination">
        <mat-paginator [pageSizeOptions]="pageSizeOptions">
        </mat-paginator>
    </div>
</div>